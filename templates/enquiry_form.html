{% extends 'layout.html' %}

{% block title %}Enquiry - Attenborough Financial Planning{% endblock %}

{% block content %}
    <h2>Enquiry Form</h2>

    <form action="{{ url_for('enquiry') }}" method="post" onsubmit="return validateForm()">
        <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input type="text" class="form-control" id="name" name="name" required>
            <div id="nameError" class="text-danger"></div>
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" name="email" required aria-describedby="emailHelp">
            <div id="emailError" class="text-danger"></div>
            <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
        </div>
        <div class="mb-3">
            <label for="message" class="form-label">Message</label>
            <textarea class="form-control" id="message" name="message" rows="4" required></textarea>
            <div id="messageError" class="text-danger"></div>
        </div>
        <div class="mb-3">
            <label class="form-label">Type of Advice (please select):</label>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="pensionAdvice" name="typeOfAdvice" value="Pension Advice">
                        <label class="form-check-label" for="pensionAdvice">Pension Advice</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="finalSalaryPensionAdvice" name="typeOfAdvice" value="Final Salary Pension Advice">
                        <label class="form-check-label" for="finalSalaryPensionAdvice">Final Salary Pension Advice</label>
                    </div>
                
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="retirementPlanning" name="typeOfAdvice" value="Retirement Planning">
                        <label class="form-check-label" for="retirementPlanning">Retirement Planning</label>
                    </div>
        
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="inheritanceTaxPlanning" name="typeOfAdvice" value="Inheritance Tax Planning">
                        <label class="form-check-label" for="inheritanceTaxPlanning">Inheritance Tax Planning</label>
                    </div>
        
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="savingsInvestments" name="typeOfAdvice" value="Savings & Investments">
                        <label class="form-check-label" for="savingsInvestments">Savings & Investments</label>
                    </div>
                    <!-- Add more checkboxes for the left column -->
                </div>
                <div class="col-md-6">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="insuranceProtection" name="typeOfAdvice" value="Insurance & Protection">
                        <label class="form-check-label" for="insuranceProtection">Insurance & Protection</label>
                    </div>
        
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="trustFunds" name="typeOfAdvice" value="Trust Funds">
                        <label class="form-check-label" for="trustFunds">Trust Funds</label>
                    </div>
        
        
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="annuities" name="typeOfAdvice" value="Annuities">
                        <label class="form-check-label" for="annuities">Annuities</label>
                    </div>
                    
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="mortgages" name="typeOfAdvice" value="Mortgages">
                        <label class="form-check-label" for="mortgages">Mortgages</label>
                    </div>

                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="other" name="typeOfAdvice" value="Other">
                        <label class="form-check-label" for="other">Other</label>
                    </div>
                    <!-- Add more checkboxes for the right column -->
                </div>
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
    <script>
        function validateForm() {
            var name = document.getElementById('name').value;
            var email = document.getElementById('email').value;
            var message = document.getElementById('message').value;

            var nameError = document.getElementById('nameError');
            var emailError = document.getElementById('emailError');
            var messageError = document.getElementById('messageError');

            // Simple checks for the Name, Email, and Message fields
            if (name.trim() === '') {
                nameError.innerHTML = 'Please enter your name.';
                return false;
            } else {
                nameError.innerHTML = '';
            }

            if (!validateEmail(email)) {
                emailError.innerHTML = 'Please enter a valid email address.';
                return false;
            } else {
                emailError.innerHTML = '';
            }

            if (message.trim() === '') {
                messageError.innerHTML = 'Please enter your message.';
                return false;
            } else {
                messageError.innerHTML = '';
            }

            return true;
        }

        function validateEmail(email) {
            // Basic email format validation using a regular expression
            var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }
    </script>
{% endblock %}
